<html><head>	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">	<title>Dashboard</title>	<link rel="stylesheet" type="text/css" href="../assets/css/gridster/jquery.gridster.css">	<link rel="stylesheet" type="text/css" href="../assets/css/testanalystdashboard.css">	<script type="text/javascript" src="../assets/js/jquery/jquery-1.11.1.min.js"></script>	<script type="text/javascript" src="../assets/js/jquery-blockUI/jquery.blockUI.js"></script>	<script type="text/javascript" src="../assets/js/gridster/jquery.gridster.js"></script>	<script type="text/javascript" src="../assets/js/highcharts/highcharts.js"></script>	<script type="text/javascript" src="../assets/js/highcharts/modules/exporting.js"></script>	<script type="text/javascript">		var limidayofresult =		<?php 		error_reporting(E_ERROR);		$thw = file_get_contents('data.txt');		if (is_null($thw)||$thw=='') {			echo 7;		}else{			echo $thw;		}		?>;		var gridster;		var nextRow = 1;		var nextCol = 1;		var projs = 1;		var interval = limidayofresult;		var min;		var max;		//var prefix = "http://truemoneydev.dyndns.org/sexydashboard/testanalysedashboard/";		var prefix = "testanalystdashboard-";		$(function(){			var margin = 10;			var cols = 5;			var rows = 5;			var w = ($(window).width() - (cols * margin * 2)) / cols;			var h = ($(window).height()-10 - (rows * margin * 2)) / rows;						gridster = $(".gridster > ul").gridster({				widget_base_dimensions: [w, h],				widget_margins: [margin, margin],				min_cols: cols,				max_cols: cols,				min_rows: rows + 1,				max_rows: rows + 1			}).data('gridster');			loadParentProj();						var d = new Date();			d.setHours(d.getHours() + 1);			//d.setDate(d.getDate() + 1);			max = d.getTime() - (d.getTimezoneOffset() * 1000 * 60);			d.setDate(d.getDate() - interval);			min = d.getTime() - (d.getTimezoneOffset() * 1000 * 60);						console.log(d.getTimezoneOffset());			console.log(max);			console.log(Date.UTC(2014, 6-1, 5, 0, 0, 0, 0));		});		$(function(){			$.blockUI.defaults = {				message: 'Loading...',				centerY: false,				centerX: false,				showOverlay: false,				css: {					textAlign: 'center', 					width: '60px',					top: '',					left: '',					right: '5px',					bottom: '5px',					border: 'none',					backgroundColor: '#000',					opacity: .8,					color: '#fff',					'font-size': '10px'				},				fadeIn: 200,				fadeOut: 1000			};		});				function loadParentProj() {			$(function(){				$.ajax({					type: "get",					url: prefix + "ajax/parentProj.php",					dataType: "jsonp",					success: function(obj, textStatus, jqXHR) {						projs = obj;						for (var i = 0; i < obj.length; i++) {							createChartPanel(projs[i].id, projs[i].name);						}					},					error: function (xhr, ajaxOptions, thrownError) {						console.log(xhr.status);						console.log(thrownError);					}				});			});		}				function createChartPanel(id, name) {			var html = '<div class="chart"><div class="chart-container" id="chart-' + id + '"></div></div>'			gridster.add_widget(html, 1, 1, nextCol, nextRow++);			if (nextRow > 4) {				nextRow = 1;				nextCol++;			}						$('#chart-' + id).block();			var chart;			$.ajax({				type: "get",				url: prefix + "ajax/chartParentProj.php",				dataType: "jsonp",				data: {id:id,interval:interval},				success: function(obj, textStatus, jqXHR) {					$('#chart-' + id).highcharts({						chart: {							type: 'areaspline',							zoomType: 'x'						},						title: {							text: name						},						xAxis: {							type: 'datetime',							title: {								enabled: true,								text: ''							},							labels: {								/*formatter: function() {									return (new Date(this.value)).toLocaleString();								}*/							},							/*tickInterval: 86400000,*/							min: min,							max: max													},						yAxis: {							allowDecimals: false,							title: {								text: ''							},							labels: {								formatter: function() {									return this.value;								}							},							lineWidth: 2,							minRange: 20,							min: 0						},						legend: {							enabled: true						},						tooltip: {							crosshairs: true,							shared: true,							dateTimeLabelFormats: {								millisecond:"%A, %b %e, %H:%M:%S.%L",								second:"%A, %b %e, %H:%M:%S",								minute:"%A, %b %e, %H:%M",								hour:"%A, %b %e, %H:%M",								day:"%A, %b %e, %Y",								week:"Week from %A, %b %e, %Y",								month:"%B %Y",								year:"%Y"							}						},						plotOptions: {							areaspline: {								fillOpacity: 0.6,								lineWidth: 1,								marker: {									radius: 3								}							},						},						series: obj					});					$('#chart-' + id).unblock();				},				error: function (xhr, ajaxOptions, thrownError) {					console.log(xhr.status);					console.log(thrownError);					$('#chart-' + id).unblock();				}			});					}	</script></head><body>	<div class="main">		<section class="dashboard">			<div class="gridster">				<ul>					<!--<li data-row="1" data-col="1" data-sizex="1" data-sizey="1">						<div class="title">							<i class="inliner"></i>							<div class="title-content1 content">BOARD</div>							<div class="title-content2 content"></div>						</div>					</li>-->				</ul>			</div>		<section>	</div></body></html>